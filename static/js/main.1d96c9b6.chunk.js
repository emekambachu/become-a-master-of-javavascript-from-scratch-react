(this["webpackJsonpbecome-a-master-of-javavascript-from-scratch-react"]=this["webpackJsonpbecome-a-master-of-javavascript-from-scratch-react"]||[]).push([[0],{29:function(t,e,n){},39:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),r=n(17),o=n.n(r),a=(n(39),n(10)),i=n(11),u=n(7),h=n(14),b=n(13),j=n(6),l=n(15),O=n(2),m=n(4),d=(n.p,n(29),n(48)),v=n(49),f=n(25),p=n(1),S=function(t){var e=t.onclick,n=t.children,c=t.className,s=void 0===c?"":c;return Object(p.jsx)("button",{className:s,onClick:e,children:n})};S.defaultProps={className:""};var x=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"Loading..."})})},y={NONE:function(t){return t},TITLE:function(t){return Object(f.sortBy)(t,"title")},AUTHOR:function(t){return Object(f.sortBy)(t,"author")},COMMENTS:function(t){return Object(f.sortBy)(t,"num_comments").reverse()},POINTS:function(t){return Object(f.sortBy)(t,"points").reverse()}},g=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(a.a)(this,n),(c=e.call(this,t)).state={sortKey:"NONE",isSortReverse:!1},c.onSort=c.onSort.bind(Object(u.a)(c)),c}return Object(i.a)(n,[{key:"onSort",value:function(t){var e=this.state.sortKey===t&&!this.state.isSortReverse;this.setState({sortKey:t,isSortReverse:e})}},{key:"render",value:function(){var t=this.props,e=t.list,n=t.removeItem,c=this.state,s=c.sortKey,r=c.isSortReverse,o=y[s](e);r&&o.reverse();return Object(p.jsxs)("div",{className:"col-sm-10 col-sm-offset-1",children:[Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("hr",{}),Object(p.jsx)("sort",{className:"btn btn-xs btn-primary sortBtn",sortKey:"NONE",onSort:this.onSort,activeSortKey:s,children:"Default"}),Object(p.jsx)("sort",{className:"btn btn-xs btn-primary sortBtn",sortKey:"TITLE",onSort:this.onSort,activeSortKey:s,children:"Title"}),Object(p.jsx)("sort",{className:"btn btn-xs btn-primary sortBtn",sortKey:"AUTHOR",onSort:this.onSort,activeSortKey:s,children:"Author"}),Object(p.jsx)("sort",{className:"btn btn-xs btn-primary sortBtn",sortKey:"COMMENTS",onSort:this.onSort,activeSortKey:s,children:"Comments"}),Object(p.jsx)("sort",{className:"btn btn-xs btn-primary sortBtn",sortKey:"POINTS",onSort:this.onSort,activeSortKey:s,children:"Points"}),Object(p.jsx)("hr",{})]}),y[s](e).map((function(t){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:[Object(p.jsx)("a",{href:t.url,children:t.title})," by ",t.author]}),Object(p.jsxs)("h4",{children:[t.num_comments," Comments | ",t.points," Points",Object(p.jsx)("button",{className:"btn btn-danger btn-xs",type:"button",onClick:function(){return n(t.objectId)},children:"Remove"})]}),Object(p.jsx)("hr",{})]},t.objectId)}))]})}}]),n}(c.Component),T=n(51),N=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.onChange,c=e.value,s=e.children,r=e.onSubmit;return Object(p.jsx)("form",{onSubmit:r,children:Object(p.jsxs)(T.a,{children:[Object(p.jsx)("h1",{style:{fontWeight:"bold"},children:s}),Object(p.jsx)("hr",{style:{border:"2px solid black",width:"100px"}}),Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("input",{className:"form-control width100 searchForm",type:"text",onChange:n,value:c,ref:function(e){t.input=e}}),Object(p.jsx)("span",{className:"input-group-btn",children:Object(p.jsx)(S,{className:"btn btn-primary searchBtn",type:"submit",children:"Search"})})]})]})})}}]),n}(c.Component),k=100,K="https://hn.algolia.com/api/v1",C="/search",L="query=",I="page=",B="hitsPerPage=",P=["isLoading"],E="".concat(K).concat(C,"?").concat(L).concat("","&").concat(I,"&").concat(B).concat(k);console.log(E);var M,R=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(a.a)(this,n),(c=e.call(this,t)).searchValue=function(t){c.setState({searchTerm:t.target.value})},c.state={results:null,searchKey:"",searchTerm:"",isLoading:!1},c.removeItem=c.removeItem.bind(Object(u.a)(c)),c.searchvalue=c.searchValue.bind(Object(u.a)(c)),c.fetchTopStories=c.fetchTopStories.bind(Object(u.a)(c)),c.setTopStories=c.setTopStories.bind(Object(u.a)(c)),c.onSubmit=c.onSubmit.bind(Object(u.a)(c)),c}return Object(i.a)(n,[{key:"checkTopStoriesSearchTerm",value:function(t){return!this.state.results[t]}},{key:"setTopStories",value:function(t){var e=t.hits,n=t.page;this.setState(function(t,e){return function(n){var c=n.searchKey,s=n.results,r=s&&s[c]?s[c].hits:[],o=[].concat(Object(l.a)(r),Object(l.a)(t));return{results:Object(O.a)(Object(O.a)({},s),{},Object(j.a)({},c,{hits:o,page:e})),isLoading:!1}}}(e,n))}},{key:"fetchTopStories",value:function(t,e){var n=this;this.setState({isLoading:!0}),fetch("".concat(K).concat(C,"?").concat(L).concat(t,"&").concat(I).concat(e,"&").concat(B).concat(k)).then((function(t){return t.json()})).then((function(t){return n.setTopStories(t)})).catch((function(t){return t}))}},{key:"componentDidMount",value:function(){var t=this.state.searchTerm;this.setState({searchKey:t}),this.fetchTopStories(t,0)}},{key:"onSubmit",value:function(t){var e=this.state.searchTerm;this.setState({searchKey:e}),this.checkTopStoriesSearchTerm(e)&&this.fetchTopStories(this.state.searchTerm,0),t.preventDefault()}},{key:"removeItem",value:function(t){var e=this.state,n=e.results,c=e.searchKey,s=n[c],r=s.hits,o=s.page,a=r.filter((function(e){return e.objectID!==t}));this.setState({results:Object(O.a)(Object(O.a)({},n),{},Object(j.a)({},c,{hits:a,page:o}))})}},{key:"render",value:function(){var t=this,e=this.state,n=e.results,c=e.searchTerm,s=e.searchKey,r=e.isLoading,o=n&&n[s]&&n[s].page||0,a=n&&n[s]&&n[s].hits||[];return console.log(this),Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{fluid:!0,children:Object(p.jsx)(v.a,{children:Object(p.jsx)("div",{className:"jumbotron text-center",children:Object(p.jsx)(N,{onChange:this.searchValue,value:c,onSubmit:this.onSubmit,children:"News App"})})})}),Object(p.jsx)(d.a,{children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(g,{list:a,removeItem:this.removeItem}),Object(p.jsx)("div",{className:"text-center alert",children:Object(p.jsx)(D,{isLoading:r,className:"btn btn-success",onClick:function(){return t.fetchTopStories(c,o+1)},children:"Load more"})})]})})]})}}]),n}(c.Component),D=(M=S,function(t){var e=t.isLoading,n=Object(m.a)(t,P);return e?Object(p.jsx)(x,{}):Object(p.jsx)(M,Object(O.a)({},n))}),w=R,F=["isLoading"],A="".concat(K).concat(C,"?").concat(L).concat("","&").concat(I,"&").concat(B).concat(k);console.log(A);c.Component;var V=function(t){return function(e){var n=e.isLoading,c=Object(m.a)(e,F);return n?Object(p.jsx)(x,{}):Object(p.jsx)(t,Object(O.a)({},c))}}(S),H=["isLoading"],J="".concat(K).concat(C,"?").concat(L).concat("","&").concat(I,"&").concat(B).concat(k);console.log(J);c.Component;var U=function(t){return function(e){var n=e.isLoading,c=Object(m.a)(e,H);return n?Object(p.jsx)(x,{}):Object(p.jsx)(t,Object(O.a)({},c))}}(S),_=(n(21),n(3),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),s(t),r(t),o(t)}))});n(43),n(50);o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),_()}},[[46,1,2]]]);
//# sourceMappingURL=main.1d96c9b6.chunk.js.map